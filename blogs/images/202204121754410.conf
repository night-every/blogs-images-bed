# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
#CC="clang"
#CXX="clang++"
#LDFLAGS="${LDFLAGS} -fuse-ld=lld -rtlib=compiler-rt -unwindlib=libunwind -Wl,--as-needed"
COMMON_FLAGS="-march=native -O3 -pipe -fno-stack-protector  -fno-math-errno -fno-trapping-math"
#-fno-math-errno -fno-trapping-math"
#CFLAGS="${COMMON_FLAGS} -flto=thin"
#CXXFLAGS="${COMMON_FLAGS} -flto=thin"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"
#LDFLAGS="${COMMON_FLAGS}"
AR="llvm-ar"
NM="llvm-nm"
RANLIB="llvm-ranlib"
#LDFLAGS="${COMMON_FLAGS} -Wl,-O2 -Wl,--as-needed -Wl,--hash-style=gnu -Wl,--sort-common -Wl,--strip-all"
CPU_FLAGS_X86="aes avx avx2 avx512f avx512dq avx512cd avx512bw avx512vl avx512vbmi f16c fma3 mmx mmxext pclmul popcnt rdrand sha sse sse2 sse3 sse4_1 sse4_2 ssse3"
CHOST="x86_64-pc-linux-gnu"
MAKEOPTS="-j2"
# NOTE: This stage was built with the bindist Use flag enabled
PORTDIR="/var/db/repos/gentoo"
DISTDIR="/var/cache/distfiles"
PKGDIR="/var/cache/binpkgs"
#PORTAGE_TMPDIR="/tmp"
# This sets the language of build output to English.
# Please keep this setting intact when reporting bugs.
LC_MESSAGES=C

# EMERGE DEFAULT OPTION
EMERGE_DEFAULT_OPTS="--keep-going --with-bdeps=y --quiet --ask --verbose --deep"
# -j -l 10
AUTO_CLEAN="yes"

# ACCEPT
ACCEPT_KEYWORDS="amd64"
ACCEPT_LICENSE="*"

# LANG
L10N="en-US zh-CN en zh en-GB"

# HARDWARE
VIDEO_CARDS="intel i965 iris"
ALSA_CARDS="hda-intel"
INPUT_DEVICES="libinput synaptics"
MICROCODE_SIGNATURES="-S"

# GRUB
GRUB_PLATFORMS="efi-64"

# CCACHE
#FEATURES="parallel-fetch ccache"
#FEATURES="ccache -test"
#CCACHE_DIR="/var/cache/ccache"

# USE #zsh-completion zsh zeroconf #libva-intel-media-driver vaapi intel-mediasdk clang llvm-libunwind
DE="-gnome -gnome-shell -gnome-keyring"
SYSTEM="-systemd -oss -consolekit -bindist -mdev -dhcpd elogind -selinux -ssp samba clang zstd geolocation gps graphite lto"
SOFTWARE="sudo git openmp minizip udev efi blkid efi acpi ccache dbus policykit udisks smack hwdb gold icu staging gdbm bluetooth"
AUDIO="alsa jack pulseaudio libsamplerate"
NET="network networkmanager connection-sharing wifi http2 nftables -iptables ppp dhclient wireless iwd zeroconf cups"
VIDEO="X vulkan layers glamor gallium wayland xwayland gles2 screencast vaapi libva-intel-media-driver"
ELSE="cjk emoji"

USE="${DE} ${SYSTEM} ${SOFTWARE} ${AUDIO} ${NET} ${VIDEO} ${ELSE}"

# LLVM
LLVM_TARGETS="X86"

